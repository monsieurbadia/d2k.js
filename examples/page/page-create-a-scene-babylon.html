<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>d2k - create a scene with the babylon.js engine</title>
</head>
<body>
  
  <script src="https://cdn.babylonjs.com/babylon.js"></script>
  <script src="../../src/index.js"></script>
  <script>

    window.addEventListener( 'DOMContentLoaded', () => {

      const BABYLONstarter = d2k.onready( {
        ENGINE: BABYLON,
        camera: {
          current: {
            option: {
              args: [ 75, window.innerWidth / window.innerHeight, 0.1, 1000 ],
              position: [ 0, 0, 100 ],
              type: 'arc-rotate'
            }
          }
        },
        light: {
          current: {
            option: {
              args: [ '0xffffbb 0x080820 1'  ],
              type: 'hemispheric'
            }
          }
        },
        mesh: {
          myMeshName: [
            {
              geometry: {
                args: [ 20, 20, 20 ],
                type: 'box-buffer'
              },
              material: {
                args: {
                  transparent: true
                },
                type: 'mesh-normal'
              },
              positions: [ -20, 0, 0 ],
              scene: 'scene1',
              group: {}
            }
          ]
        },
        scene: {
          current: {}
        },
        engine: {
          current: {
            canvas: 'webgl',
            pixelRatio: window.devicePixelRatio,
            size: [ window.innerWidth, window.innerHeight ]
          }
        }
      } );

      BABYLONstarter.dom.canvas.width = window.innerWidth;
      BABYLONstarter.dom.canvas.height = window.innerHeight;
      
      BABYLONstarter.dom.add( BABYLONstarter.dom.canvas );

      BABYLONstarter.ENGINE.d2kCoreData.engine.runRenderLoop( () => {
        BABYLONstarter.scene.current.render();
      } );

      console.log( BABYLONstarter );

    }, false );

  </script>
</body>
</html>